#!/usr/bin/env ruby
# 
# Copyright (c) 2011 Solano Labs All Rights Reserved
#

require 'yaml'
YAML::ENGINE.yamler = 'syck' if defined?(YAML::ENGINE)

$LOAD_PATH.unshift File.join(File.dirname(__FILE__), '..', 'lib')

if ENV['COVERAGE']
  begin
    require 'rubygems'
    require 'simplecov'
    SimpleCov.root(ENV['COVERAGE_ROOT'])
    SimpleCov.start do
      add_group "Commands", "lib/tddium/commands"
    end
  rescue => e
    STDERR.puts "Can't load simplecov: #{e.inspect} #{e.backtrace}"
  end
end

require "tddium"
Tddium.start
